<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Main Display – Clean 2×2 (Fullscreen Prompt)</title>
  <style>
    * { box-sizing: border-box; }
    html, body { margin: 0; height: 100%; background: #000; overflow: hidden; }
    .grid {
      position: fixed; inset: 0; display: grid;
      grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; gap: 0;
      background: #000;
    }
    iframe { width: 100%; height: 100%; border: 0; background: #000; }

    /* Start-Overlay für Vollbildabfrage */
    .overlay {
      position: fixed; inset: 0; z-index: 10;
      display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 14px;
      background: radial-gradient(1200px 600px at 50% -20%, rgba(255,255,255,.08), rgba(0,0,0,.92));
      color: #fff; text-align: center; padding: 24px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    .overlay h1 { margin: 0; font-size: 22px; font-weight: 700; }
    .overlay p { margin: 0; opacity: .8; font-size: 14px; }
    .btn {
      appearance: none; border: 0; border-radius: 10px; padding: 10px 14px;
      background: rgba(255,255,255,.12); color: #fff; cursor: pointer; font-size: 14px;
    }
    .muted { font-size: 12px; opacity: .7; }
    .hidden { display: none !important; }
  </style>
</head>
<body>
  <div class="grid">
    <iframe id="tl" title="oben links"></iframe>
    <iframe id="tr" title="oben rechts"></iframe>
    <iframe id="bl" title="unten links"></iframe>
    <iframe id="br" title="unten rechts"></iframe>
  </div>

  <!-- Vollbildabfrage (nur beim Start sichtbar) -->
  <div class="overlay" id="overlay">
    <h1>Anzeige starten</h1>
    <p>Für eine saubere Darstellung ohne Browserleisten bitte im <strong>Vollbild</strong> starten.</p>
    <div>
      <button class="btn" id="startFs">Vollbild starten</button>
      <span class="muted">oder F11 drücken</span>
    </div>
    <button class="btn" id="skip">Ohne Vollbild fortfahren</button>
  </div>

  <script>
    // Quellen
    const TL_URL = "https://belegung.org/cgi-bin/preview20.pl?pbid=52";
    const TR_URL = "https://fc09jugendfussball.github.io/display-or/";
    const BL_URL = "https://fc09jugendfussball.github.io/display-ul/";
    const BR_URL = "https://fc09jugendfussball.github.io/display-ur/";
    const RELOAD_HOURLY_MS = 60*60*1000; // stündlich neu laden

    const tl = document.getElementById("tl");
    const tr = document.getElementById("tr");
    const bl = document.getElementById("bl");
    const br = document.getElementById("br");

    function withCB(u) { return u + (u.includes("?") ? "&" : "?") + "_=" + Date.now(); }
    function loadAll() {
      tl.src = withCB(TL_URL);
      tr.src = withCB(TR_URL);
      bl.src = withCB(BL_URL);
      br.src = withCB(BR_URL);
    }
    loadAll();
    setInterval(loadAll, RELOAD_HOURLY_MS);

    // Vollbild-Overlay Logik
    const overlay = document.getElementById('overlay');
    const startFs = document.getElementById('startFs');
    const skip = document.getElementById('skip');

    async function enterFullscreen() {
      try {
        await document.documentElement.requestFullscreen();
      } catch(e) { /* ignorieren */ }
      overlay.classList.add('hidden');
    }
    startFs.addEventListener('click', enterFullscreen);
    skip.addEventListener('click', () => overlay.classList.add('hidden'));
    document.addEventListener('fullscreenchange', () => {
      if (document.fullscreenElement) overlay.classList.add('hidden');
    });
  </script>
</body>
</html>
